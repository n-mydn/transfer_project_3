{% extends 'layout.html' %}

{% block body %}
{% load i18n %}
<div class="d-flex justify-content-end ">  
  <button class="btn btn-secondary" style="background: #D2B48C;" type="button"  data-bs-toggle="collapse" data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
    {% trans "Transfer Ara" %}
  </button>
</div>
<div class="collapse" id="collapseExample">
  <br>
  <div class="border border-tertiary border-opacity-25 rounded-2" style="background: #fcfcfc;" >
    <br>
    <form  method="POST" >
      {% csrf_token %}
          <div class="row" >
              <div class="col-md-2 text-uppercase" style="margin-bottom: 8px; margin: 0 auto; " >
              &ensp;<b><label for="fromwhere" style = "color:#764409;"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-geo-alt" viewBox="0 0 18 18">
                  <path d="M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z"/>
                  <path d="M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
              </svg>{% trans 'Nereden' %}:</label></b> {{form.fromwhere}}
              </div>&ensp;
              <div class="col-md-2 text-uppercase" style="margin-bottom: 8px;  margin: 0 auto; " >
                &ensp;<b><label for="towhere" style = "color:#764409;"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-geo-alt" viewBox="0 0 18 18">
                      <path d="M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z"/>
                      <path d="M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                  </svg>{% trans 'Nereye' %}:</label></b>
                  {{form.towhere}}
              </div>&ensp;
              <div class="col-md-2 text-uppercase" style="margin-bottom: 8px; margin: 0 auto; ">
                  <div class="dropdown" >
                    &ensp;<b><label style = "color:#764409;"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-person" viewBox="0 0 20 20">
                          <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z"/>
                        </svg>{% trans 'Kişi Sayısı' %}: </label></b>&emsp;
                      <button style="background-color:#ffffff;height:26px;width:100px;border-style:solid;border-width:1px;font-size:14px;border-radius:2px;" type="button" id="result" data-bs-toggle="dropdown" value="result" data-bs-display="static" aria-expanded="false">1 {% trans 'Kişi' %}</button>
                      <ul class="dropdown-menu dropdown-menu-end dropdown-menu-lg-start" style="border-color: #764409;">
                          <button type="button" class="btn-close" aria-label="Close" style="float:right"></button><br>
                          &ensp;<b><label for="adultnumber" style = "color:#764409;">{% trans 'Yetişkin' %}: </label></b>
                          {{form.adultnumber}}&ensp;<br>
                          &ensp;&ensp;<b><label for="childrennumber" style = "color:#764409;">&ensp;{% trans 'Çocuk' %}: </label></b>
                          {{form.childrennumber}}&ensp;
          
                      </ul>
                  </div>
              </div>&ensp;
              <div class="col-md-2"  style="margin-bottom: 8px;  margin: 0 auto; ">
                &ensp;<button type="submit" style="background-color:#764409;border-color:#764409;color:white;height:35px;font-size:14px;border-radius:8px;">{% trans 'Transfer Ara' %} </button>
              </div>
          </div> 
        </form>
      <br>
    </div>
</div>
<br>
{% if cars %}
    <h5 style = "color:#764409;">{{fromwhere}} <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
      </svg> {{towhere}}</h5>
    <hr width="100%" color="#764409" size="6">&emsp;
    <div class="container">
      {% for car in cars %}
      <div class="border border-dark p-2 mb-2 border-opacity-25 rounded-2" style="background: #fcfcfc;"> 
        <div class="row">
          <div class="col-md-3">
              <div class="mb-0.75">
                <img class="img-fluid rounded" width="200" height="200" src="{{car.car_image.url}}" alt="">
                <a href="{{car.car_image.url}}" style="position: relative;
                right: 2px;top:48px;color:#764409;" target="_blank"><i class="fas fa-image">
                </i><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-images" viewBox="0 0 20 20">
                  <path d="M4.502 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/>
                  <path d="M14.002 13a2 2 0 0 1-2 2h-10a2 2 0 0 1-2-2V5A2 2 0 0 1 2 3a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v8a2 2 0 0 1-1.998 2zM14 2H4a1 1 0 0 0-1 1h9.002a2 2 0 0 1 2 2v7A1 1 0 0 0 15 11V3a1 1 0 0 0-1-1zM2.002 4a1 1 0 0 0-1 1v8l2.646-2.354a.5.5 0 0 1 .63-.062l2.66 1.773 3.71-3.71a.5.5 0 0 1 .577-.094l1.777 1.947V5a1 1 0 0 0-1-1h-10z"/>
                </svg></a>
              </div> 
          </div>
          <div class="col-md-3">
              <div class="mb-0.75">
                <p  class="fs-5" style ="color: #764409;" ><b>{{car.name}}</b></p>
                <hr color="#764409;" size="5">
                <p class="fs-6" style ="color: #764409;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-square" viewBox="0 0 16 16">
                    <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                    <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm12 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1v-1c0-1-1-4-6-4s-6 3-6 4v1a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12z"/>
                  </svg>{% trans " Kapasite: " %} {{car.capasity}}</p>
                  
                <p class="fs-6" style ="color: #764409;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-briefcase-fill" viewBox="0 0 16 16">
                    <path d="M6.5 1A1.5 1.5 0 0 0 5 2.5V3H1.5A1.5 1.5 0 0 0 0 4.5v1.384l7.614 2.03a1.5 1.5 0 0 0 .772 0L16 5.884V4.5A1.5 1.5 0 0 0 14.5 3H11v-.5A1.5 1.5 0 0 0 9.5 1h-3zm0 1h3a.5.5 0 0 1 .5.5V3H6v-.5a.5.5 0 0 1 .5-.5z"/>
                    <path d="M0 12.5A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5V6.85L8.129 8.947a.5.5 0 0 1-.258 0L0 6.85v5.65z"/>
                  </svg>
                  {% trans "Bagaj: "  %} {{car.max_people}}</p>
                
              </div>
          </div>
          <div class="col-md-3">
              <div class="mb-0.75" style="text-align: center;" >
                <p class="fs-6" style="color:#764409;">{% trans "Toplam Tutar:" %}</p>
                  <div class="d-inline-flex p-2" style="background: #eee; color:#764409;">&emsp;<b>{{car.price}} {{car.currency}}</b>&emsp;</div>
                
              </div>
          </div>
          <div class="col-md-3">
            <div class="mb-0.75 " class="align-middle" style="text-align: center;"><br><br>
              <a style="color:#764409; text-decoration: none;" href="{% url 'reservation' transfer_id car.id %}">
                <div class="shadow-lg p-3 bg-body-warning rounded" style="background: #D2B48C;">
                  <b>{% trans "Aracı Seç >" %}</b>
                </div>
              </a>
            </div>
          </div>
        </div>
      </div><br>
      {% endfor %}
    </div>


{% else %}
<p>{% trans "Kriterlere uygun araba bulunmamaktadır." %}</p>

{% endif %}

{% endblock body %}